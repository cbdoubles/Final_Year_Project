!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("codemirror"),require("codemirror/lib/codemirror.css"),require("codemirror/theme/base16-dark.css"),require("codemirror/theme/xq-dark.css"),require("codemirror/theme/erlang-dark.css"),require("codemirror/theme/eclipse.css"),require("codemirror/theme/elegant.css"),require("codemirror/theme/blackboard.css"),require("codemirror/mode/cypher/cypher"),require("codemirror/mode/sql/sql"),require("codemirror/addon/dialog/dialog.css"),require("codemirror/addon/search/searchcursor.js"),require("codemirror/addon/dialog/dialog.js"),require("codemirror/addon/fold/foldgutter.css"),require("codemirror/addon/fold/foldcode.js"),require("codemirror/addon/fold/foldgutter.js"),require("codemirror/addon/fold/brace-fold.js"),require("codemirror/addon/fold/comment-fold.js"),require("codemirror/addon/display/fullscreen.css"),require("codemirror/addon/display/fullscreen.js"),require("codemirror/addon/scroll/simplescrollbars.css"),require("codemirror/addon/scroll/simplescrollbars.js"),require("codemirror/addon/hint/show-hint.css"),require("codemirror/addon/hint/show-hint.js"),require("codemirror/addon/hint/anyword-hint.js"),require("codemirror/addon/edit/matchbrackets.js"),require("codemirror/addon/edit/closebrackets.js"),require("codemirror/addon/display/placeholder.js")):"function"==typeof define&&define.amd?define(["exports","react","codemirror","codemirror/lib/codemirror.css","codemirror/theme/base16-dark.css","codemirror/theme/xq-dark.css","codemirror/theme/erlang-dark.css","codemirror/theme/eclipse.css","codemirror/theme/elegant.css","codemirror/theme/blackboard.css","codemirror/mode/cypher/cypher","codemirror/mode/sql/sql","codemirror/addon/dialog/dialog.css","codemirror/addon/search/searchcursor.js","codemirror/addon/dialog/dialog.js","codemirror/addon/fold/foldgutter.css","codemirror/addon/fold/foldcode.js","codemirror/addon/fold/foldgutter.js","codemirror/addon/fold/brace-fold.js","codemirror/addon/fold/comment-fold.js","codemirror/addon/display/fullscreen.css","codemirror/addon/display/fullscreen.js","codemirror/addon/scroll/simplescrollbars.css","codemirror/addon/scroll/simplescrollbars.js","codemirror/addon/hint/show-hint.css","codemirror/addon/hint/show-hint.js","codemirror/addon/hint/anyword-hint.js","codemirror/addon/edit/matchbrackets.js","codemirror/addon/edit/closebrackets.js","codemirror/addon/display/placeholder.js"],e):e((r=r||self)["cypher-editor"]={},r.React,r.CodeMirror)}(this,(function(r,e,o){"use strict";function d(r,e){return(d=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r})(r,e)}var i={sql:"text/x-mysql",cypher:"cypher"},t={"base16-dark":"base16-dark","xq-dark":"xq-dark","erlang-dark":"erlang-dark",eclipse:"eclipse",blackboard:"blackboard"};r.default=function(r){var c,s;function n(e){var o;return(o=r.call(this,e)||this).state={codeMioorInstance:{},editorValue:""},o}s=r,(c=n).prototype=Object.create(s.prototype),c.prototype.constructor=c,d(c,s);var a=n.prototype;return a.componentDidMount=function(){this.initCodeMioor()},a.initCodeMioor=function(){var r=this,e=this.props.editorConfig,d=e.lineNumbers,c=void 0===d||d,s=e.theme,n=void 0===s?"base16-dark":s,a=e.undoDepth,l=void 0===a?20:a,m=e.tabindex,u=void 0===m?4:m,p=e.mode,h=void 0===p?"cypher":p,f=e.autofocus,b=void 0===f||f,g=e.width,q=void 0===g?"auto":g,y=e.height,j=void 0===y?"200":y,E=document.getElementById("transwarp-code-editor"),k=o.fromTextArea(E,{lineNumbers:c,undoDepth:l,tabindex:u,autofocus:b,theme:t[n],mode:i[h],showCursorWhenSelecting:!0,lineWiseCopyCut:!0,matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1},scrollbarStyle:"simple",viewportMargin:Infinity,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]});k.setSize(q,j),k.on("keypress",(function(){k.showHint()})),k.setValue(this.formatQuery(this.props.initValue)),k.on("change",(function(){var e=k.getValue();e&&(e=e.replace(/(\r\n\t|\n|\r\t)/gm," ").trim()),r.props.getEditorValue(e)})),k.on("dblclick",(function(){r.updateEditorValue()})),k.on("blur",(function(){r.updateEditorValue()})),this.setState({codeMioorInstance:k})},a.updateEditorValue=function(){var r=this.state.codeMioorInstance,e=this.formatQuery(r.getValue());r.setValue(e)},a.formatQuery=function(r){return(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace(/\b(WHEN|CASE|AND|OR|XOR|DISTINCT|AS|IN|STARTS WITH|ENDS WITH|CONTAINS|NOT|SET|ORDER BY)\b/gi,(function(r){return" "+r.toUpperCase().trim()+" "}))).replace(/\b(NULL|TRUE|FALSE)\b/gi,(function(r){return" "+r.toLowerCase().trim()+" "}))).replace(/\b(CASE|DETACH DELETE|DELETE|MATCH|MERGE|LIMIT|OPTIONAL MATCH|RETURN|UNWIND|UNION|WHERE|WITH|GROUP BY)\b/gi,(function(r){return"\n"+r.toUpperCase().replace(/^\s+/,"")+" "}))).replace(/^\s+/gm,"")).replace(/\s+$/gm,"")).replace(/,([^\s])/g,(function(r){return", "+r.replace(/,/g,"")}))).replace(/ +/g," ")).replace(/\b(ON CREATE|ON MATCH)\b/gi,(function(r){return"\n  "+r.toUpperCase().replace(/^\s+/,"")+" "}))).replace(/ {([\S\s]*?)}/g,(function(r){return" {\n  "+r.trim().substring(1,r.trim().length-1).trim().replace(/(\r\n|\n|\r)/gm,"\n  ")+"\n}"}))).replace(/\n\s*\n/g,"\n")).trim()},a.render=function(){return e.createElement("div",{className:"container"},e.createElement("textarea",{id:"transwarp-code-editor",defaultValue:"match (n) return n limit 10",placeholder:"请输入代码"}))},n}(e.Component),Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=cypher-editor.umd.production.min.js.map
